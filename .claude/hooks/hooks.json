{
  "hooks": [
    {
      "name": "pre-bash-git-commit-block",
      "type": "PreToolUse",
      "matcher": {
        "tool": "Bash",
        "args": "git\\s+commit"
      },
      "action": {
        "type": "block",
        "message": "ğŸš¨ ç¦æ­¢ç›´æ¥ä½¿ç”¨ git commit å‘½ä»¤ï¼\n\nä½ å¿…é¡»ä½¿ç”¨å®Œæ•´çš„ 13 æ­¥å¼€å‘æµç¨‹ï¼š\n\næ­£ç¡®åšæ³•ï¼š\n1. å…ˆè°ƒç”¨ Skill(skill: \"using-git-worktrees\") åˆ›å»º feature åˆ†æ”¯\n2. å®Œæˆå¼€å‘å’Œæ‰€æœ‰æ£€æŸ¥å\n3. è°ƒç”¨ Skill(skill: \"commit\") è‡ªåŠ¨ç”Ÿæˆæäº¤ä¿¡æ¯å¹¶æäº¤\n\nâŒ é”™è¯¯ï¼šgit commit -m \"...\"\nâœ… æ­£ç¡®ï¼šSkill(skill: \"commit\")\n\nå‚è€ƒï¼š.claude/CLAUDE.md å®Œæ•´å¼€å‘é—­ç¯æµç¨‹ï¼ˆ13 æ­¥ï¼‰"
      }
    },
    {
      "name": "pre-bash-git-checkout-main-block",
      "type": "PreToolUse",
      "matcher": {
        "tool": "Bash",
        "args": "git\\s+checkout\\s+(main|master)"
      },
      "action": {
        "type": "block",
        "message": "ğŸš¨ ç¦æ­¢åˆ‡æ¢åˆ° main/master åˆ†æ”¯è¿›è¡Œå¼€å‘ï¼\n\nä½ å¿…é¡»åœ¨ feature/fix åˆ†æ”¯ä¸Šå·¥ä½œã€‚\n\næ­£ç¡®åšæ³•ï¼š\n1. è°ƒç”¨ Skill(skill: \"using-git-worktrees\") åˆ›å»ºæ–°åˆ†æ”¯\n2. åœ¨ feature åˆ†æ”¯ä¸Šè¿›è¡Œæ‰€æœ‰å¼€å‘å·¥ä½œ\n3. å®Œæˆåç”±ç”¨æˆ·å†³å®šä½•æ—¶åˆå¹¶åˆ° main\n\nâŒ ç¦æ­¢ï¼šåœ¨ main åˆ†æ”¯ä¸Šç›´æ¥ä¿®æ”¹ä»£ç \nâœ… æ­£ç¡®ï¼šå§‹ç»ˆåœ¨ feature/fix åˆ†æ”¯ä¸Šå·¥ä½œ"
      }
    },
    {
      "name": "pre-bash-git-push-force-block",
      "type": "PreToolUse",
      "matcher": {
        "tool": "Bash",
        "args": "git\\s+push.*(-f|--force)"
      },
      "action": {
        "type": "block",
        "message": "ğŸš¨ ç¦æ­¢ä½¿ç”¨ git push --forceï¼\n\nå¼ºåˆ¶æ¨é€ä¼šç ´å Git å†å²ï¼Œå¯èƒ½å¯¼è‡´ä»£ç ä¸¢å¤±ã€‚\n\nå¦‚æœç¡®å®éœ€è¦ä¿®æ”¹å†å²ï¼š\n1. è¯·å…ˆå’¨è¯¢ç”¨æˆ·\n2. ç¡®ä¿ç”¨æˆ·äº†è§£é£é™©\n3. ç”±ç”¨æˆ·è‡ªè¡Œæ‰§è¡Œ force push"
      }
    },
    {
      "name": "pre-bash-git-dangerous-commands-block",
      "type": "PreToolUse",
      "matcher": {
        "tool": "Bash",
        "args": "git\\s+(reset\\s+--hard|clean\\s+-fd)"
      },
      "action": {
        "type": "block",
        "message": "ğŸš¨ æ£€æµ‹åˆ°å±é™©çš„ Git å‘½ä»¤ï¼\n\nä»¥ä¸‹å‘½ä»¤å¯èƒ½å¯¼è‡´ä»£ç ä¸¢å¤±ï¼š\n- git reset --hard\n- git clean -fd\n\nå¦‚æœç¡®å®éœ€è¦æ¸…ç†å·¥ä½œåŒºï¼š\n1. å…ˆè¯¢é—®ç”¨æˆ·\n2. ç¡®ä¿ç”¨æˆ·å·²å¤‡ä»½é‡è¦æ›´æ”¹\n3. ç”±ç”¨æˆ·è‡ªè¡Œæ‰§è¡Œå‘½ä»¤"
      }
    },
    {
      "name": "pre-edit-write-source-code-workflow-reminder",
      "type": "PreToolUse",
      "matcher": {
        "tool": "Edit|Write",
        "args": "src/.*\\.(rs|tsx?|vue)$|frontend/src/.*\\.(tsx?|vue)$"
      },
      "action": {
        "type": "warn",
        "message": "âš ï¸ å³å°†ä¿®æ”¹æºä»£ç æ–‡ä»¶ï¼\n\nè¯·ç¡®è®¤ä½ å·²ç»æ‰§è¡Œäº†å®Œæ•´çš„ 13 æ­¥å¼€å‘æµç¨‹ï¼š\n\nâœ… æ­¥éª¤ 1: å·²è°ƒç”¨ Skill(skill: \"using-git-worktrees\") åˆ›å»º feature åˆ†æ”¯\nâœ… æ­¥éª¤ 2: å·²è°ƒç”¨ Skill(skill: \"brainstorming\") æˆ– Skill(skill: \"systematic-debugging\")\nâœ… æ­¥éª¤ 3: å·²è°ƒç”¨ Skill(skill: \"writing-plans\")\nâœ… æ­¥éª¤ 4: å·²è°ƒç”¨é¡¹ç›®ç‰¹å®š skills\nâœ… æ­¥éª¤ 5: å·²è°ƒç”¨ Skill(skill: \"test-driven-development\")\n\nå¦‚æœä½ è¿˜æ²¡æœ‰åˆ›å»º feature åˆ†æ”¯ï¼Œè¯·ç«‹å³ï¼š\n1. åœæ­¢å½“å‰æ“ä½œ\n2. è°ƒç”¨ Skill(skill: \"using-git-worktrees\")\n3. ç„¶åå†ç»§ç»­ä¿®æ”¹ä»£ç \n\nå‚è€ƒï¼š.claude/CLAUDE.md å®Œæ•´å¼€å‘é—­ç¯æµç¨‹"
      }
    },
    {
      "name": "pre-bash-dangerous-rm-check",
      "type": "PreToolUse",
      "matcher": {
        "tool": "Bash",
        "args": "rm\\s+-rf\\s+/"
      },
      "action": {
        "type": "block",
        "message": "ğŸš¨ æ£€æµ‹åˆ°æåº¦å±é™©çš„å‘½ä»¤ï¼\n\nrm -rf / ä¼šåˆ é™¤æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿï¼\n\nè¿™ä¸ªå‘½ä»¤å·²è¢«é˜»æ­¢æ‰§è¡Œã€‚"
      }
    },
    {
      "name": "pre-tool-use-console-log-check",
      "type": "PreToolUse",
      "matcher": {
        "tool": "Edit|Write",
        "args": "console\\.(log|error|warn|info|debug)"
      },
      "action": {
        "type": "block",
        "message": "âš ï¸ æ£€æµ‹åˆ° console.log/error/warnï¼\n\næ¡Œé¢åº”ç”¨ç¦æ­¢ä½¿ç”¨ consoleï¼Œè¯·ä½¿ç”¨ï¼š\n- å‰ç«¯ï¼šmessage.error/success/warning (Ant Design)\n- åç«¯ï¼štracing::info/error/warn (Rust)\n\nå¦‚æœè¿™æ˜¯æµ‹è¯•ä»£ç æˆ–è°ƒè¯•ä»£ç ï¼Œè¯·åœ¨å®Œæˆååˆ é™¤ã€‚"
      }
    },
    {
      "name": "pre-tool-use-as-any-check",
      "type": "PreToolUse",
      "matcher": {
        "tool": "Edit|Write",
        "args": "as any"
      },
      "action": {
        "type": "block",
        "message": "âš ï¸ æ£€æµ‹åˆ° 'as any' ç±»å‹è½¬æ¢ï¼\n\nç¦æ­¢ä½¿ç”¨ 'as any'ï¼Œè¯·ä½¿ç”¨ï¼š\n- ç²¾ç¡®çš„ç±»å‹æ–­è¨€ (as SpecificType)\n- ç±»å‹å®ˆå«å‡½æ•°\n- unknown ç±»å‹ï¼ˆå¦‚æœç±»å‹ç¡®å®æœªçŸ¥ï¼‰\n\nå‚è€ƒï¼š.claude/rules/03-react-frontend-standards.md"
      }
    },
    {
      "name": "pre-tool-use-sql-injection-check",
      "type": "PreToolUse",
      "matcher": {
        "tool": "Edit|Write",
        "args": "format!\\(.*SELECT.*FROM"
      },
      "action": {
        "type": "warn",
        "message": "âš ï¸ æ£€æµ‹åˆ°å¯èƒ½çš„ SQL å­—ç¬¦ä¸²æ‹¼æ¥ï¼\n\nè¯·ç¡®ä¿ä½¿ç”¨ SQLx å‚æ•°åŒ–æŸ¥è¯¢ï¼š\n- ä½¿ç”¨ sqlx::query_as! å®\n- ä½¿ç”¨ QueryBuilder çš„ push_bind æ–¹æ³•\n\nå‚è€ƒï¼š.claude/rules/06-security-standards.md"
      }
    },
    {
      "name": "pre-tool-use-unsafe-check",
      "type": "PreToolUse",
      "matcher": {
        "tool": "Edit|Write",
        "args": "unsafe\\s*\\{"
      },
      "action": {
        "type": "warn",
        "message": "âš ï¸ æ£€æµ‹åˆ° unsafe ä»£ç å—ï¼\n\né™¤éç»å¯¹å¿…è¦ï¼Œå¦åˆ™é¿å…ä½¿ç”¨ unsafeã€‚\n\nå¯æ¥å—çš„ä½¿ç”¨åœºæ™¯ï¼š\n- FFI è°ƒç”¨\n- æ€§èƒ½å…³é”®è·¯å¾„ï¼ˆç»è¿‡å……åˆ†æµ‹è¯•ï¼‰\n- ä¸ C åº“äº¤äº’\n\nè¯·ç¡®ä¿ï¼š\n1. æœ‰å……åˆ†çš„ç†ç”±ä½¿ç”¨ unsafe\n2. æ·»åŠ è¯¦ç»†çš„å®‰å…¨æ€§æ³¨é‡Š\n3. è¿›è¡Œå……åˆ†çš„æµ‹è¯•"
      }
    },
    {
      "name": "pre-tool-use-hardcoded-key-check",
      "type": "PreToolUse",
      "matcher": {
        "tool": "Edit|Write",
        "args": "(API_KEY|api_key|apiKey)\\s*=\\s*[\"']sk-|[\"']Bearer\\s"
      },
      "action": {
        "type": "block",
        "message": "ğŸš¨ æ£€æµ‹åˆ°å¯èƒ½çš„ç¡¬ç¼–ç  API å¯†é’¥ï¼\n\nä¸¥ç¦ç¡¬ç¼–ç å¯†é’¥ï¼Œå¿…é¡»ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼š\n\nRust:\nlet api_key = env::var(\"API_KEY\")?;\n\nTypeScript:\nconst apiKey = import.meta.env.VITE_API_KEY;\n\nå‚è€ƒï¼š.claude/rules/06-security-standards.md"
      }
    },
    {
      "name": "post-tool-use-changelog-reminder",
      "type": "PostToolUse",
      "matcher": {
        "tool": "Edit|Write",
        "args": "src/.*\\.(rs|tsx?|vue)$"
      },
      "action": {
        "type": "remind",
        "message": "ğŸ“ æé†’ï¼šä¿®æ”¹ä»£ç åè®°å¾—æ›´æ–° CHANGELOG.md\n\nåœ¨å®Œæˆæ‰€æœ‰ä¿®æ”¹åï¼Œå°†è°ƒç”¨ Skill(skill: \"changelog-generator\") è‡ªåŠ¨æ›´æ–° CHANGELOG.mdã€‚"
      }
    },
    {
      "name": "post-tool-use-test-reminder",
      "type": "PostToolUse",
      "matcher": {
        "tool": "Edit|Write",
        "args": "src/.*/service\\.rs$|src/.*/repository\\.rs$"
      },
      "action": {
        "type": "remind",
        "message": "ğŸ§ª æé†’ï¼šä¿®æ”¹æ ¸å¿ƒä¸šåŠ¡é€»è¾‘åè®°å¾—æ·»åŠ /æ›´æ–°æµ‹è¯•\n\næ­¥éª¤ 5 ä¼šè°ƒç”¨ Skill(skill: \"test-driven-development\") ç¡®ä¿æµ‹è¯•è¦†ç›–ã€‚\n\næµ‹è¯•è¦æ±‚ï¼š\n- æ·»åŠ æˆ–æ›´æ–°å•å…ƒæµ‹è¯•\n- æ·»åŠ æˆ–æ›´æ–°é›†æˆæµ‹è¯•\n- æµ‹è¯•è¦†ç›–ç‡ >= 80%\n\nå‚è€ƒï¼š.claude/rules/07-testing-standards.md"
      }
    }
  ]
}
