{
  "env": {
    "CLAUDE_CODE_DISABLE_NONESSENTIAL_TRAFFIC": "1"
  },
  "permissions": {
    "defaultMode": "bypassPermissions"
  },
  "statusLine": {
  "type": "command",
  "command": "npx ccusage statusline"
  },
  "enabledPlugins": {
    "rust-analyzer-lsp@claude-plugins-official": true,
    "typescript-lsp@claude-plugins-official": true
  },
  "hooks": {
    "SessionStart": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "cat <<'EOF'\n=========================================\nğŸ¦€ é¥²æ–™é…æ–¹ç³»ç»Ÿ - Tauri + Rust + React\n=========================================\n\nğŸ“‹ å¼€å‘è§„èŒƒæé†’ï¼š\n  âŒ ç¦æ­¢ console.log - ä½¿ç”¨ message ç»„ä»¶\n  âŒ ç¦æ­¢ as any - ä½¿ç”¨ç²¾ç¡®ç±»å‹æ–­è¨€\n  âœ… ä¿®æ”¹ä»£ç åæ›´æ–° CHANGELOG.md\n  âœ… Rust ä¿®æ”¹åä¼šè‡ªåŠ¨ç”Ÿæˆç±»å‹ç»‘å®š\n\nâš ï¸ AI æ‰§è¡Œæµç¨‹è§„èŒƒï¼ˆå¼ºåˆ¶éµå®ˆï¼‰ï¼š\n  1ï¸âƒ£ éœ€æ±‚åˆ†æ - æŒ‰åºå·åˆ—å‡ºï¼ˆ1. 2. 3. ...ï¼‰\n  2ï¸âƒ£ ä»»åŠ¡åˆ†è§£ - å¸¦ä»»åŠ¡ç¼–å·ï¼ˆä»»åŠ¡1ã€1.1ã€1.2...ï¼‰\n  3ï¸âƒ£ åˆ›å»ºTodoWrite - ç«‹å³åˆ›å»ºä»»åŠ¡è¿½è¸ªæ¸…å•\n  4ï¸âƒ£ è¯´æ˜æ¯ä¸€æ­¥ - æ‰§è¡Œå‰å¿…é¡»è¯´æ˜åœ¨åšä»€ä¹ˆ\n  5ï¸âƒ£ æ ‡è®°å®ŒæˆçŠ¶æ€ - é€é¡¹æ ‡è®° âœ“å·²å®Œæˆ/âœ—æœªå®Œæˆ\n  6ï¸âƒ£ é€»è¾‘éªŒè¯ - æ£€æŸ¥é€»è¾‘å’Œæ•°æ®æµ\n  7ï¸âƒ£ ä»£ç å®¡æŸ¥ - è¿è¡Œlintæ£€æŸ¥\n\nâ— å¦‚æœAIåç¦»ä»¥ä¸Šæµç¨‹ï¼Œè¯·ç«‹å³æ‰“æ–­ï¼\n=========================================\nEOF"
          },
          {
            "type": "command",
            "command": "echo \"\nå½“å‰åˆ†æ”¯: $(git branch --show-current)\nGit çŠ¶æ€: $(git status --short | wc -l | tr -d ' ') ä¸ªå˜æ›´\""
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "echo ğŸ’¬ å¼€å§‹å¤„ç†è¯·æ±‚..."
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "jq -r '.tool_input.file_path' | { read file_path; case \"$file_path\" in *.env|*.db|*.sqlite|*.key|*.pem|*.p12|*package-lock.json|*Cargo.lock|*.git/*) echo 'ğŸš« ç¦æ­¢ä¿®æ”¹æ•æ„Ÿæ–‡ä»¶'; exit 2 ;; esac; }"
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "jq -r '.tool_input.command' | { read cmd; case \"$cmd\" in *\"rm -rf\"*|*\"del /s\"*|*format*|*shutdown*|*reboot*) echo 'ğŸš« ç¦æ­¢æ‰§è¡Œå±é™©å‘½ä»¤'; exit 2 ;; esac; }"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Write.*\\.rs$|Edit.*\\.rs$",
        "hooks": [
          {
            "type": "command",
            "command": "echo ğŸ” Rust ä»£ç è§„èŒƒæ£€æŸ¥..."
          },
          {
            "type": "command",
            "command": "cargo clippy --quiet 2>&1 | grep -E 'warning|error' | head -n 10 || echo âœ… Clippyæ£€æŸ¥é€šè¿‡",
            "timeout": 45
          },
          {
            "type": "command",
            "command": "echo ğŸ”„ æ›´æ–°ç±»å‹ç»‘å®š..."
          },
          {
            "type": "command",
            "command": "cargo run --bin generate_bindings --quiet 2>&1 || echo âš ï¸ ç±»å‹ç»‘å®šç”Ÿæˆå¤±è´¥ï¼Œè¯·æ‰‹åŠ¨è¿è¡Œ cargo run --bin generate_bindings",
            "timeout": 30
          },
          {
            "type": "command",
            "command": "echo âœ… Rust æ–‡ä»¶å¤„ç†å®Œæˆ"
          }
        ]
      },
      {
        "matcher": "Write.*frontend.*\\.(ts|tsx)$|Edit.*frontend.*\\.(ts|tsx)$",
        "hooks": [
          {
            "type": "command",
            "command": "echo ğŸ” TypeScript ä»£ç è§„èŒƒæ£€æŸ¥..."
          },
          {
            "type": "command",
            "command": "jq -r '.tool_input.file_path' | { read file_path; grep -n 'console\\.\\(log\\|error\\|warn\\)' \"$file_path\" 2>/dev/null && echo 'âš ï¸ æ£€æµ‹åˆ° console æ—¥å¿—ï¼è¯·ä½¿ç”¨ message ç»„ä»¶'; grep -n 'as any' \"$file_path\" 2>/dev/null && echo 'âš ï¸ æ£€æµ‹åˆ° as anyï¼è¯·ä½¿ç”¨ç²¾ç¡®ç±»å‹'; true; }"
          },
          {
            "type": "command",
            "command": "cd frontend && npx tsc --noEmit --pretty 2>&1 | head -n 20 || echo âœ… TypeScriptç±»å‹æ£€æŸ¥é€šè¿‡",
            "timeout": 20
          },
          {
            "type": "command",
            "command": "cd frontend && npm run lint --silent 2>&1 | head -n 10 || echo âœ… ESLintæ£€æŸ¥é€šè¿‡",
            "timeout": 25
          },
          {
            "type": "command",
            "command": "echo âœ… TypeScript æ–‡ä»¶å¤„ç†å®Œæˆ"
          }
        ]
      },
      {
        "matcher": "Write|Edit",
        "hooks": [
          {
            "type": "command",
            "command": "echo ğŸ“ è®°å¾—æ›´æ–° CHANGELOG.md"
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "cat <<'EOF'\n\n=========================================\nâœ… ä»»åŠ¡å®Œæˆ\n\nğŸ“‹ ä¸‹ä¸€æ­¥æ£€æŸ¥æ¸…å•ï¼š\n  â–¡ è¿è¡Œ cargo clippy æ£€æŸ¥è­¦å‘Š\n  â–¡ è¿è¡Œ npm run lint æ£€æŸ¥é”™è¯¯\n  â–¡ æ›´æ–° CHANGELOG.md\n  â–¡ æµ‹è¯•åŠŸèƒ½æ˜¯å¦æ­£å¸¸\n  â–¡ æäº¤ä»£ç å‰å®¡æŸ¥å˜æ›´\n=========================================\nEOF"
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "cat <<'EOF'\nğŸ“Š ä¼šè¯ç»“æŸ\n\nå½“å‰çŠ¶æ€ï¼š\n  - åˆ†æ”¯: $(git branch --show-current)\n  - æœªæäº¤å˜æ›´: $(git status --short | wc -l | tr -d ' ') ä¸ª\n\nğŸ’¡ ç¦»å¼€å‰è®°å¾—ï¼š\n  âœ… ç¡®ä¿æ‰€æœ‰ lint æ£€æŸ¥é€šè¿‡\n  âœ… æ›´æ–° CHANGELOG.md è®°å½•å˜æ›´\n  âœ… æµ‹è¯•åŠŸèƒ½æ˜¯å¦æ­£å¸¸\n  âœ… å®¡æŸ¥ä»£ç å˜æ›´\nEOF"
          }
        ]
      }
    ],
    "Notification": [
      {
        "matcher": ".*",
        "hooks": [
          {
            "type": "command",
            "command": "if [[ \"$OSTYPE\" == \"darwin\"* ]]; then osascript -e 'display notification \"Claude Code éœ€è¦ä½ çš„è¾“å…¥\" with title \"é¥²æ–™é…æ–¹ç³»ç»Ÿ\"'; elif [[ \"$OSTYPE\" == \"msys\" ]] || [[ \"$OSTYPE\" == \"win32\" ]]; then powershell.exe -Command \"Add-Type -AssemblyName System.Windows.Forms; [System.Windows.Forms.MessageBox]::Show('Claude Code éœ€è¦ä½ çš„è¾“å…¥', 'é¥²æ–™é…æ–¹ç³»ç»Ÿ', 'OK', 'Information')\"; else notify-send 'é¥²æ–™é…æ–¹ç³»ç»Ÿ' 'Claude Code éœ€è¦ä½ çš„è¾“å…¥'; fi"
          }
        ]
      }
    ]
  }
}
