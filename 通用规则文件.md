# Rust + Tauri + React + Tailwind é€šç”¨å¼€å‘è§„èŒƒ

## ğŸš€ è‡ªåŠ¨å®‰è£… Skills

Claude Code ä¼šåœ¨é¦–æ¬¡ä½¿ç”¨æ—¶è‡ªåŠ¨æ£€æµ‹å¹¶å®‰è£…æ‰€éœ€çš„ skillsã€‚å¦‚éœ€æ‰‹åŠ¨å®‰è£…ï¼š

```bash
# å®‰è£… Superpowers æ¡†æ¶ï¼ˆåŒ…å« 20+ æ ¸å¿ƒ skillsï¼‰
/plugin marketplace add obra/superpowers-marketplace
/plugin install superpowers@superpowers-marketplace

# å®‰è£… Anthropic å®˜æ–¹ skillsï¼ˆå¯é€‰ï¼‰
/plugin marketplace add anthropics/skills
/plugin install document-skills@anthropic-agent-skills
```
## AI è¡Œä¸ºå‡†åˆ™

### å¯¹è¯å¯åŠ¨è¦æ±‚

æ¯æ¬¡æ–°å¯¹è¯å¼€å§‹æ—¶ï¼ŒAI å¿…é¡»ï¼š

1. **é‡æ–°å®Œæ•´é˜…è¯»å¹¶ç†è§£æœ¬è§„åˆ™æ–‡ä»¶çš„æ‰€æœ‰å†…å®¹**
2. **åœ¨å›å¤ç”¨æˆ·ä¹‹å‰ï¼Œå†…åŒ–æ‰€æœ‰ç¼–ç å‡†åˆ™å’Œæ‰§è¡Œåè®®**
3. **ä¸¥æ ¼æŒ‰ç…§æœ¬è§„åˆ™æ–‡ä»¶ä¸­å®šä¹‰çš„å¼€å‘æµç¨‹æ‰§è¡Œä»»åŠ¡**
4. **åœ¨æ•´ä¸ªå¯¹è¯è¿‡ç¨‹ä¸­å§‹ç»ˆéµå®ˆè¿™äº›è§„åˆ™ï¼Œä¸å¾—åç¦»**

### æ²Ÿé€šè§„èŒƒ

- **é—®å€™è¯­**: å¯¹è¯å¼€å§‹æ—¶ï¼Œä»¥"ä¸»äººï¼æˆ‘æ˜¯+æ¨¡å‹åå­—ä½œä¸ºå¼€åœºç™½
- **æ²Ÿé€šè¯­è¨€**: ä½¿ç”¨ä¸­æ–‡è¿›è¡Œäº¤æµ
- **ä¸“ä¸šæ€§**: ä¿æŒä¸“ä¸šã€å®¢è§‚ã€æŠ€æœ¯å¯¼å‘çš„æ²Ÿé€šé£æ ¼

---

## ä»»åŠ¡å¤„ç†æµç¨‹

### éå¼€å‘ä»»åŠ¡ï¼ˆå’¨è¯¢ã€è§£é‡Šã€åˆ†æï¼‰

1. **éœ€æ±‚åˆ†æ** - åˆ—å‡ºéœ€æ±‚ç‚¹
2. **ä»»åŠ¡åˆ†è§£** - åˆ†è§£ä¸ºå…·ä½“å­ä»»åŠ¡
3. **æ‰§è¡Œè¯´æ˜** - è¯´æ˜æ­£åœ¨æ‰§è¡Œçš„æ“ä½œ
4. **æ ‡è®°è¿›åº¦** - å®æ—¶æ ‡è®°å®ŒæˆçŠ¶æ€

### å¼€å‘ä»»åŠ¡ï¼ˆä»£ç ä¿®æ”¹ã€æ–°åŠŸèƒ½ã€Bugä¿®å¤ï¼‰

**å¿…é¡»æ‰§è¡Œçš„å¼€å‘æµç¨‹ï¼ˆ6æ­¥æ ¸å¿ƒ + å¯é€‰æ­¥éª¤ï¼‰**ï¼Œè¯¦è§ä¸‹æ–¹ã€‚

---

### æ ¸å¿ƒåŸåˆ™

- âœ… ä½¿ç”¨ feature åˆ†æ”¯å¼€å‘ï¼Œ**æ°¸ä¸ç›´æ¥ä¿®æ”¹ main åˆ†æ”¯**
- âœ… Plan-First Workflow - å…ˆè®¡åˆ’åç¼–ç 
- âœ… ä½¿ç”¨é€šç”¨ skillsï¼Œé¿å…é¡¹ç›®ç‰¹å®šä¾èµ–
- âœ… çµæ´»æ‰§è¡Œ - ç®€å•ä»»åŠ¡å¯è·³è¿‡éƒ¨åˆ†æ­¥éª¤

---

### é˜¶æ®µ 1ï¼šè®¡åˆ’ä¸è®¾è®¡ï¼ˆPlan Modeï¼‰

#### æ­¥éª¤ 1ï¼šéœ€æ±‚åˆ†æï¼ˆbrainstormingï¼‰

**è§¦å‘æ—¶æœº**: æ–°åŠŸèƒ½ã€å¤æ‚ä»»åŠ¡ã€ä¸æ¸…æ¥šçš„éœ€æ±‚

```bash
è°ƒç”¨ Skill(skill: "brainstorming")
```

**ä½œç”¨**:
- æ¢ç´¢ç”¨æˆ·æ„å›¾å’Œéœ€æ±‚
- æ¾„æ¸…æŠ€æœ¯å®ç°ç»†èŠ‚
- è®¨è®ºè®¾è®¡æ–¹æ¡ˆå’Œæƒè¡¡
- ç¡®å®šåŠŸèƒ½èŒƒå›´

**ä½•æ—¶è·³è¿‡**: ç®€å•çš„ bug ä¿®å¤ã€æ–‡æ¡£æ›´æ–°ã€æ˜ç¡®çš„å°æ”¹åŠ¨

---

#### æ­¥éª¤ 2ï¼šç¼–å†™å®ç°è®¡åˆ’ï¼ˆwriting-plansï¼‰

**è§¦å‘æ—¶æœº**: å¤æ‚åŠŸèƒ½ã€é‡æ„ä»»åŠ¡ã€è·¨æ¨¡å—ä¿®æ”¹

```bash
è°ƒç”¨ Skill(skill: "writing-plans")
```

**ä½œç”¨**:
- ç”Ÿæˆè¯¦ç»†çš„å®æ–½è®¡åˆ’
- è¯†åˆ«å…³é”®æ–‡ä»¶å’Œä¾èµ–
- è€ƒè™‘æ¶æ„æƒè¡¡
- ç”¨æˆ·å®¡æ‰¹åæ‰§è¡Œ

**ä½•æ—¶è·³è¿‡**:
- å•æ–‡ä»¶ä¿®æ”¹
- æ˜ç¡®çš„ API è°ƒæ•´
- ç®€å•çš„æ ·å¼æ›´æ–°

---

### é˜¶æ®µ 2ï¼šå¼€å‘å®æ–½

#### æ­¥éª¤ 3ï¼šåˆ›å»ºåŠŸèƒ½åˆ†æ”¯

**å¼ºåˆ¶æ‰§è¡Œ**: æ‰€æœ‰æ¶‰åŠä»£ç ä¿®æ”¹çš„ä»»åŠ¡

```bash
git checkout -b feat/your-feature-name
# æˆ–
git checkout -b fix/bug-description
```

**åˆ†æ”¯å‘½åè§„èŒƒ**:
- `feat/` - æ–°åŠŸèƒ½
- `fix/` - Bug ä¿®å¤
- `refactor/` - é‡æ„
- `perf/` - æ€§èƒ½ä¼˜åŒ–
- `test/` - æµ‹è¯•ç›¸å…³

**ç»å¯¹ç¦æ­¢**: ç›´æ¥åœ¨ main åˆ†æ”¯ä¸Šä¿®æ”¹ä»£ç 

---

#### æ­¥éª¤ 4ï¼šTDD å®ç°ï¼ˆtest-driven-developmentï¼‰

**è§¦å‘æ—¶æœº**: æ‰€æœ‰æ–°åŠŸèƒ½å’Œ bug ä¿®å¤

```bash
è°ƒç”¨ Skill(skill: "test-driven-development")
```

**TDD æµç¨‹**:
1. **ç¼–å†™æµ‹è¯•** - å…ˆå†™å¤±è´¥çš„æµ‹è¯•
2. **å®ç°ä»£ç ** - ç¼–å†™æœ€å°å¯ç”¨ä»£ç 
3. **è¿è¡Œæµ‹è¯•** - ç¡®ä¿æµ‹è¯•é€šè¿‡
4. **é‡æ„** - ä¼˜åŒ–ä»£ç è´¨é‡
5. **é‡å¤** - å¾ªç¯ç›´åˆ°åŠŸèƒ½å®Œæˆ

**è¦†ç›–ç‡è¦æ±‚**:
- æ•´ä½“è¦†ç›–ç‡ï¼šâ‰¥ 80%
- æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ï¼šâ‰¥ 90%
- å·¥å…·å‡½æ•°ï¼šâ‰¥ 95%

**ä½•æ—¶ç®€åŒ–**:
- çº¯å±•ç¤ºç»„ä»¶ï¼ˆUI onlyï¼‰
- é…ç½®æ–‡ä»¶ä¿®æ”¹
- æ–‡æ¡£æ›´æ–°

---

### é˜¶æ®µ 3ï¼šè´¨é‡ä¿éšœ

#### æ­¥éª¤ 5ï¼šéªŒè¯å®Œæˆï¼ˆverification-before-completionï¼‰

**å¼ºåˆ¶æ‰§è¡Œ**: æ‰€æœ‰ä»£ç ä»»åŠ¡

```bash
è°ƒç”¨ Skill(skill: "verification-before-completion")
```

**éªŒè¯æ¸…å•**:

##### ä»£ç è´¨é‡
- [ ] `cargo clippy` æ— è­¦å‘Š
- [ ] `npm run lint` æ— é”™è¯¯
- [ ] æ‰€æœ‰ Tauri å‘½ä»¤æœ‰ `#[specta::specta]` å®
- [ ] å‰ç«¯æ—  `console.log` å’Œ `as any`
- [ ] é”™è¯¯å¤„ç†ä½¿ç”¨ `message` ç»„ä»¶ï¼ˆå‰ç«¯ï¼‰
- [ ] ä½¿ç”¨ tracing æ—¥å¿—ï¼ˆåç«¯ï¼‰
- [ ] React Hooks éµå¾ªè§„åˆ™

##### å®‰å…¨æ£€æŸ¥
- [ ] æ— ç¡¬ç¼–ç  API å¯†é’¥ã€å¯†ç ã€tokens
- [ ] API å¯†é’¥ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–ç³»ç»Ÿå¯†é’¥é“¾å­˜å‚¨
- [ ] Tauri å‘½ä»¤å‚æ•°å·²éªŒè¯
- [ ] æ—¥å¿—ä¸­æ— æ•æ„Ÿä¿¡æ¯
- [ ] è¾“å…¥å·²éªŒè¯ï¼ˆå‰ç«¯ + åç«¯åŒé‡éªŒè¯ï¼‰

##### æµ‹è¯•è¦†ç›–
- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡ï¼ˆ`cargo test` å’Œ `npm test`ï¼‰
- [ ] æµ‹è¯•è¦†ç›–ç‡ â‰¥ 80%
- [ ] è¾¹ç•Œæƒ…å†µå·²æµ‹è¯•
- [ ] é”™è¯¯è·¯å¾„å·²æµ‹è¯•

##### LSP ä½¿ç”¨
- [ ] ä¿®æ”¹ä»£ç å‰ä½¿ç”¨ LSP æŸ¥çœ‹ç»“æ„å’Œç±»å‹
- [ ] ä½¿ç”¨ `findReferences` è¯„ä¼°ä¿®æ”¹å½±å“èŒƒå›´

---

#### æ­¥éª¤ 6ï¼šå®Œæˆåˆ†æ”¯ï¼ˆfinishing-a-development-branchï¼‰

**å¼ºåˆ¶æ‰§è¡Œ**: æ‰€æœ‰ä»£ç ä»»åŠ¡

```bash
è°ƒç”¨ Skill(skill: "finishing-a-development-branch")
```

**æä¾›é€‰é¡¹**:
1. **åˆ›å»º Pull Request** - å›¢é˜Ÿåä½œã€éœ€è¦å®¡æŸ¥
2. **ç›´æ¥åˆå¹¶åˆ° main** - ä¸ªäººé¡¹ç›®ã€ç´§æ€¥ä¿®å¤
3. **ç»§ç»­å¼€å‘** - åŠŸèƒ½æœªå®Œæˆã€éœ€è¦æ›´å¤šå·¥ä½œ

**Commit è§„èŒƒ** (Conventional Commits):
```
feat: æ·»åŠ ç”¨æˆ·ç®¡ç†åŠŸèƒ½
fix: ä¿®å¤ç™»å½•çŠ¶æ€ä¸¢å¤±é—®é¢˜
refactor: é‡æ„ç”¨æˆ·æœåŠ¡æ¨¡å—
perf: ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½
test: æ·»åŠ ç”¨æˆ·æœåŠ¡æµ‹è¯•
docs: æ›´æ–° API æ–‡æ¡£
chore: æ›´æ–°ä¾èµ–ç‰ˆæœ¬
```

---

### å¯é€‰æ­¥éª¤

#### å¯é€‰ Aï¼šç³»ç»ŸåŒ–è°ƒè¯•ï¼ˆæ›¿ä»£æ­¥éª¤ 1-2ï¼‰

**è§¦å‘æ—¶æœº**: Bug ä¿®å¤ã€å¼‚å¸¸æ’æŸ¥

```bash
è°ƒç”¨ Skill(skill: "systematic-debugging")
```

**è°ƒè¯•æµç¨‹**:
1. **é‡ç°é—®é¢˜** - åˆ›å»ºå¯å¤ç°çš„æµ‹è¯•ç”¨ä¾‹
2. **è¯Šæ–­åŸå› ** - ä½¿ç”¨æ—¥å¿—ã€æ–­ç‚¹ã€LSP åˆ†æ
3. **ä¿®å¤é—®é¢˜** - å®æ–½æœ€å°åŒ–ä¿®å¤
4. **éªŒè¯ä¿®å¤** - ç¡®ä¿é—®é¢˜è§£å†³ä¸”æ— å‰¯ä½œç”¨
5. **é˜²æ­¢å¤å‘** - æ·»åŠ å›å½’æµ‹è¯•

---

#### å¯é€‰ Bï¼šä»£ç å®¡æŸ¥

**è§¦å‘æ—¶æœº**: é‡å¤§åŠŸèƒ½ã€é‡æ„ã€å®‰å…¨å…³é”®ä»£ç 

```bash
è°ƒç”¨ Skill(skill: "requesting-code-review")
```

**å®¡æŸ¥é‡ç‚¹**:
- æ¶æ„è®¾è®¡æ˜¯å¦åˆç†
- ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§
- å®‰å…¨æ¼æ´å’Œæ€§èƒ½é—®é¢˜
- æµ‹è¯•è¦†ç›–ç‡å’Œè´¨é‡

---

#### å¯é€‰ Cï¼šå‰ç«¯è®¾è®¡

**è§¦å‘æ—¶æœº**: åˆ›å»ºæ–° UI ç»„ä»¶ã€ä¼˜åŒ–ç”¨æˆ·ä½“éªŒ

```bash
è°ƒç”¨ Skill(skill: "frontend-design")
```

**è®¾è®¡é‡ç‚¹**:
- ä½¿ç”¨ Tailwind CSS å®ç°å“åº”å¼è®¾è®¡
- éµå¾ª Ant Design è®¾è®¡è§„èŒƒ
- æ”¯æŒæš—è‰²æ¨¡å¼
- ä¼˜åŒ–æ€§èƒ½ï¼ˆæ‡’åŠ è½½ã€è™šæ‹Ÿæ»šåŠ¨ï¼‰

---

## æ ¸å¿ƒç¼–ç å‡†åˆ™

### ä¸¥ç¦äº‹é¡¹ï¼ˆæ¡Œé¢åº”ç”¨ä¸“é¡¹ï¼‰

1. **ç¦æ­¢ `console.log/error/warn`** â†’ ä½¿ç”¨ `message.error/success/warning`ï¼ˆå‰ç«¯ï¼‰æˆ– `tracing`ï¼ˆåç«¯ï¼‰
2. **ç¦æ­¢ `as any` ç±»å‹è½¬æ¢** â†’ ä½¿ç”¨ç²¾ç¡®ç±»å‹æ–­è¨€æˆ–ç±»å‹å®ˆå«
3. **ç¦æ­¢åŸå§‹ `invoke`** â†’ ä½¿ç”¨ç”Ÿæˆçš„ `commands`
4. **ç¦æ­¢åœ¨å¾ªç¯ä¸­ä½¿ç”¨ Hooks**
5. **ç¦æ­¢ç¡¬ç¼–ç  API å¯†é’¥** â†’ ä½¿ç”¨ç¯å¢ƒå˜é‡æˆ–ç³»ç»Ÿå¯†é’¥é“¾å­˜å‚¨
6. **ç¦æ­¢é˜»å¡å¼‚æ­¥è¿è¡Œæ—¶** â†’ ä½¿ç”¨ `tokio::spawn` æˆ– `tokio::time::sleep`

### å¿…é¡»éµå®ˆ

1. **ä½¿ç”¨ specta å¯¼å‡ºç±»å‹** - æ‰€æœ‰ Tauri å‘½ä»¤å¿…é¡»æœ‰ `#[specta::specta]` å®
2. **ä½¿ç”¨ `message` ç»„ä»¶** - æ‰€æœ‰ç”¨æˆ·åé¦ˆé€šè¿‡ Ant Design `message` ç»„ä»¶
3. **ä½¿ç”¨ tracing æ—¥å¿—** - ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—è®°å½•
4. **ä½¿ç”¨ `anyhow::Result + ApiResponse`** - åº•å±‚ anyhowï¼Œé¡¶å±‚ ApiResponse
5. **å¤„ç†å¼‚æ­¥å¼‚å¸¸** - ä¼˜é›…å¤„ç†å¼‚æ­¥æ“ä½œçš„é”™è¯¯å’Œè¶…æ—¶
6. **ä¸»åŠ¨ä½¿ç”¨ LSP å·¥å…·** - ä¿®æ”¹ä»£ç å‰æŸ¥çœ‹ã€è¯„ä¼°å½±å“ã€ç†è§£ç»“æ„

---

## æ ¸å¿ƒå·¥ä½œåŸåˆ™

### 1. Plan-First Workflow

åœ¨ä»»ä½•ä»£ç ä¿®æ”¹å‰ï¼Œå…ˆè¿›è¡Œè®¡åˆ’å’Œè®¾è®¡ã€‚æ ¹æ® [Anthropic å®˜æ–¹å»ºè®®](https://www.anthropic.com/engineering/claude-code-best-practices)ï¼Œ"å…ˆè®¡åˆ’åç¼–ç "å¯ä»¥æ˜¾è‘—æé«˜ä»£ç è´¨é‡å’Œå¼€å‘æ•ˆç‡ã€‚

**æ¨èæµç¨‹**:
1. ä½¿ç”¨ `brainstorming` skill æ¢ç´¢éœ€æ±‚
2. ä½¿ç”¨ `writing-plans` skill ç”Ÿæˆè®¡åˆ’
3. ç”¨æˆ·å®¡æ‰¹è®¡åˆ’åå†æ‰§è¡Œ

### 2. ä¸Šä¸‹æ–‡é©±åŠ¨å¼€å‘

åœ¨ä»»ä½•ä»£ç ä¿®æ”¹å‰ï¼Œå¿…é¡»å½»åº•ç†è§£ä¸šåŠ¡éœ€æ±‚ã€ç°æœ‰ä»£ç é€»è¾‘åŠå…¶ä¸Šä¸‹æ–‡ã€‚ç¦æ­¢åœ¨ä¿¡æ¯ä¸å®Œæ•´æˆ–å­˜åœ¨å‡è®¾çš„æƒ…å†µä¸‹è¿›è¡Œç¼–ç ã€‚

**ä½¿ç”¨ LSP å·¥å…·**:
- `goToDefinition` - æŸ¥çœ‹å‡½æ•°å®šä¹‰
- `findReferences` - è¯„ä¼°ä¿®æ”¹å½±å“
- `hover` - æŸ¥çœ‹ç±»å‹ä¿¡æ¯
- `documentSymbol` - äº†è§£æ–‡ä»¶ç»“æ„

### 3. Test-Driven Development (TDD)

éµå¾ª TDD åŸåˆ™ï¼Œå…ˆå†™æµ‹è¯•åå†™ä»£ç ã€‚è¿™ç¡®ä¿ï¼š
- ä»£ç å¯æµ‹è¯•æ€§
- éœ€æ±‚æ˜ç¡®æ€§
- é‡æ„å®‰å…¨æ€§
- é«˜è¦†ç›–ç‡

### 4. åŸå­åŒ–æäº¤

æ¯æ¬¡ä¿®æ”¹éµå¾ªæœ€å°åŒ–åŸåˆ™ï¼Œæ¯æ¬¡æäº¤ä»…è§£å†³ä¸€ä¸ªæ˜ç¡®å®šä¹‰çš„é—®é¢˜ã€‚

### 5. å®Œæ•´åŠŸèƒ½äº¤ä»˜

ä¸€æ¬¡æ€§å®Œæˆæ‰€æœ‰ç›¸å…³åŠŸèƒ½ï¼Œä¸ç•™ `TODO` æˆ–æœªå®Œæˆçš„å®ç°ã€‚

### 6. æ–‡æ¡£ç”Ÿæˆé™åˆ¶

ä¸¥ç¦ä¸»åŠ¨ç”Ÿæˆä»»ä½•æ–‡æ¡£ï¼ˆREADMEã€APIæ–‡æ¡£ç­‰ï¼‰ã€‚ä»…å½“ç”¨æˆ·æ˜ç¡®è¦æ±‚æ—¶æ‰ç”Ÿæˆã€‚

---

## æŠ€æœ¯æ ˆæ ¸å¿ƒè§„èŒƒ

### Rust åç«¯ï¼ˆsrc-tauri/srcï¼‰

#### å‘½åè§„èŒƒ

| ç±»å‹ | è§„èŒƒ | ç¤ºä¾‹ |
|------|------|------|
| ç»“æ„ä½“ | PascalCase | `UserManager`, `AuthService` |
| æšä¸¾ | PascalCase | `UserRole`, `AppState` |
| ç‰¹å¾ (Trait) | PascalCase | `Repository`, `Service` |
| å‡½æ•° | snake_case | `get_user`, `save_config` |
| å˜é‡ | snake_case | `user_name`, `api_key` |
| å¸¸é‡ | SCREAMING_SNAKE_CASE | `MAX_RETRIES`, `DEFAULT_TIMEOUT` |
| æ¨¡å— | snake_case | `user`, `auth`, `config` |

#### Tauri å‘½ä»¤è§„èŒƒ

```rust
use serde::{Deserialize, Serialize};
use specta::Type;

#[derive(Serialize, Deserialize, Type, Clone)]
#[specta(inline)]
pub struct UserRequest {
    pub name: String,
    pub email: String,
}

#[derive(Serialize, Deserialize, Type, Clone)]
#[specta(inline)]
pub struct UserResponse {
    pub id: i64,
    pub name: String,
    pub email: String,
}

#[tauri::command]
#[specta::specta]  // å¿…é¡»æ·»åŠ æ­¤å®
pub async fn create_user(
    request: UserRequest,
    state: State<'_, AppState>,
) -> ApiResponse<UserResponse> {
    // å®ç°...
}
```

#### å¼‚æ­¥ç¼–ç¨‹è§„èŒƒ

```rust
use tokio::time::{timeout, Duration};

pub async fn process_with_timeout() -> Result<()> {
    timeout(
        Duration::from_secs(10),
        some_async_operation()
    )
    .await
    .map_err(|_| anyhow!("æ“ä½œè¶…æ—¶"))??;

    Ok(())
}
```

#### é”™è¯¯å¤„ç†è§„èŒƒ

```rust
use anyhow::{Context, Result};

pub async fn process_data() -> Result<UserResponse> {
    let data = fetch_data()
        .context("è·å–æ•°æ®å¤±è´¥")?;

    let processed = process_data(data)
        .await
        .context("å¤„ç†æ•°æ®å¤±è´¥")?;

    Ok(processed)
}
```

---

### React å‰ç«¯ï¼ˆsrcï¼‰

#### ç»„ä»¶å‘½åè§„èŒƒ

| ç±»å‹ | è§„èŒƒ | ç¤ºä¾‹ |
|------|------|------|
| React ç»„ä»¶ | PascalCase | `UserCard`, `SettingsPanel` |
| è‡ªå®šä¹‰ Hooks | camelCase (use å‰ç¼€) | `useUserData`, `useSettings` |
| å·¥å…·å‡½æ•° | camelCase | `formatDate`, `validateEmail` |
| ç±»å‹å®šä¹‰ | PascalCase | `User`, `Settings` |
| å¸¸é‡ | SCREAMING_SNAKE_CASE | `MAX_ITEMS`, `DEFAULT_THEME` |

#### å‡½æ•°ç»„ä»¶å®šä¹‰

```typescript
import React from 'react';
import { Button, Card } from 'antd';

interface UserCardProps {
  user: User;
  onEdit?: (id: string) => void;
  onDelete?: (id: string) => void;
}

export const UserCard: React.FC<UserCardProps> = ({
  user,
  onEdit,
  onDelete,
}) => {
  const handleEdit = () => {
    onEdit?.(user.id);
  };

  return (
    <Card className="user-card">
      <h3>{user.name}</h3>
      <p>{user.email}</p>
      <Button onClick={handleEdit}>ç¼–è¾‘</Button>
    </Card>
  );
};
```

#### React Hooks ä½¿ç”¨è§„èŒƒ

```typescript
import { useCallback, useMemo } from 'react';

export const UserList: React.FC = () => {
  const { users, loading } = useUsers();

  // âœ“ ä½¿ç”¨ useMemo ä¼˜åŒ–è®¡ç®—
  const activeUsers = useMemo(() => {
    return users.filter(u => u.status === 'active');
  }, [users]);

  // âœ“ ä½¿ç”¨ useCallback ä¼˜åŒ–å›è°ƒ
  const handleSelect = useCallback((id: string) => {
    // é€‰æ‹©é€»è¾‘
  }, []);

  return (
    <div>
      {activeUsers.map(user => (
        <UserCard
          key={user.id}
          user={user}
          onSelect={handleSelect}
        />
      ))}
    </div>
  );
};
```

#### TypeScript ç±»å‹è§„èŒƒ

```typescript
// ä½¿ç”¨ç”Ÿæˆçš„ç±»å‹ç»‘å®š
import type { User, Settings } from '../bindings';
import { commands } from '../bindings';

export const UserService = {
  async getUser(id: string): Promise<User> {
    const result = await commands.getUser({ id });
    if (!result.success) {
      throw new Error(result.message);
    }
    return result.data;
  }
};

// ç±»å‹å®ˆå«ï¼ˆç¦æ­¢ä½¿ç”¨ as anyï¼‰
function isUser(data: unknown): data is User {
  return (
    typeof data === 'object' &&
    data !== null &&
    'id' in data &&
    'name' in data
  );
}
```

#### Ant Design ä½¿ç”¨è§„èŒƒ

```typescript
import { message } from 'antd';

const handleSave = async (data: User) => {
  try {
    await commands.saveUser(data);
    message.success('ä¿å­˜æˆåŠŸ');
  } catch (error) {
    message.error(`ä¿å­˜å¤±è´¥: ${error.message}`);
  }
};
```

---

### Tailwind CSS è§„èŒƒ

#### å‘½åè§„èŒƒ

- ä½¿ç”¨è¯­ä¹‰åŒ–ç±»åï¼Œè€Œéæ ·å¼æè¿°
- ç»„ä»¶çº§æ ·å¼ä½¿ç”¨å‰ç¼€
- é¿å…è¿‡åº¦åµŒå¥—

```tsx
// âœ“ æ­£ç¡®
<div className="user-card bg-white dark:bg-gray-800 rounded-lg shadow-md p-4">
  <h3 className="user-name text-lg font-semibold text-gray-800 dark:text-gray-100">
    {user.name}
  </h3>
</div>
```

#### å“åº”å¼è®¾è®¡

```tsx
<div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
  {/* å†…å®¹ */}
</div>
```

#### æš—è‰²æ¨¡å¼æ”¯æŒ

```tsx
<div className="bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100">
  {/* å†…å®¹ */}
</div>
```

---

## é…ç½®ç®¡ç†è§„èŒƒ

### ç¯å¢ƒå˜é‡

```bash
# .env.example
API_ENDPOINT=https://api.example.com
API_TIMEOUT=30
MAX_RETRIES=3
LOG_LEVEL=info
```

### API å¯†é’¥ç®¡ç†

```rust
use std::env;

pub fn get_api_key() -> Result<String> {
    env::var("API_KEY")
        .context("API_KEY ç¯å¢ƒå˜é‡æœªè®¾ç½®")
}

pub fn get_api_endpoint() -> String {
    env::var("API_ENDPOINT")
        .unwrap_or_else(|_| "https://api.example.com".to_string())
}
```

**ç¦æ­¢ç¡¬ç¼–ç **:
```rust
// âœ— ç¦æ­¢
const API_KEY: &str = "sk-1234567890abcdef";

// âœ“ æ­£ç¡®
let api_key = std::env::var("API_KEY")?;
```

---

## å®‰å…¨å¼€å‘è§„èŒƒ

### è¾“å…¥éªŒè¯

```rust
use validator::Validate;

#[derive(Deserialize, Validate)]
pub struct UserRequest {
    #[validate(length(min = 1, max = 100))]
    pub name: String,

    #[validate(email)]
    pub email: String,
}

#[tauri::command]
pub async fn create_user(
    request: UserRequest,
) -> ApiResponse<UserResponse> {
    if let Err(e) = request.validate() {
        return api_err(format!("éªŒè¯å¤±è´¥: {}", e));
    }
    // å¤„ç†é€»è¾‘...
}
```

### æ—¥å¿—å®‰å…¨

```rust
use tracing::{info, error};

pub async fn process_user(user_id: i64) -> Result<()> {
    info!(user_id = user_id, "å¤„ç†ç”¨æˆ·è¯·æ±‚");
    // âœ“ ä¸è®°å½•æ•æ„Ÿä¿¡æ¯

    // âœ— é”™è¯¯ç¤ºä¾‹
    // info!("ç”¨æˆ·æ•°æ®: {:?}", sensitive_data);

    Ok(())
}
```

---

## æµ‹è¯•è§„èŒƒ

### å•å…ƒæµ‹è¯•

```rust
#[cfg(test)]
mod tests {
    use super::*;

    #[test]
    fn test_validate_email() {
        assert!(validate_email("test@example.com").is_ok());
        assert!(validate_email("invalid").is_err());
    }

    #[tokio::test]
    async fn test_create_user() {
        let result = create_user_test_data().await;
        assert!(result.is_ok());
    }
}
```

### å‰ç«¯æµ‹è¯•

```typescript
import { describe, it, expect } from 'vitest';
import { render, screen } from '@testing-library/react';
import { UserCard } from './UserCard';

describe('UserCard', () => {
  it('should render user information', () => {
    const user = { id: '1', name: 'Test User', email: 'test@example.com' };
    render(<UserCard user={user} />);

    expect(screen.getByText('Test User')).toBeInTheDocument();
    expect(screen.getByText('test@example.com')).toBeInTheDocument();
  });
});
```

### è¦†ç›–ç‡è¦æ±‚

- **æ•´ä½“è¦†ç›–ç‡**: >= 80%
- **æ ¸å¿ƒä¸šåŠ¡é€»è¾‘**: >= 90%
- **å·¥å…·å‡½æ•°**: >= 95%

---

## æ€§èƒ½ä¼˜åŒ–è§„èŒƒ

### Rust åç«¯ä¼˜åŒ–

```rust
// ä½¿ç”¨ç¼“å­˜
use moka::future::Cache;

pub struct CacheManager {
    cache: Cache<String, Vec<String>>,
}

impl CacheManager {
    pub fn new() -> Self {
        Self {
            cache: Cache::builder()
                .max_capacity(100)
                .time_to_live(Duration::from_secs(300))
                .build(),
        }
    }
}

// ä½¿ç”¨å¹¶å‘
use tokio::task;

pub async fn process_concurrently(items: Vec<String>) -> Vec<Result<String>> {
    let tasks: Vec<_> = items.into_iter()
        .map(|item| task::spawn(async move { process_item(item).await }))
        .collect();

    let mut results = Vec::new();
    for task in tasks {
        results.push(task.await.unwrap());
    }

    results
}
```

### React å‰ç«¯ä¼˜åŒ–

```typescript
import { memo, useCallback, useMemo } from 'react';

// ä½¿ç”¨ memo é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“
export const UserItem = memo<UserItemProps>(({ user, onSelect }) => {
  return (
    <div onClick={() => onSelect(user.id)}>
      {user.name}
    </div>
  );
});

// ä½¿ç”¨ useCallback ç¼“å­˜å›è°ƒ
const handleSelect = useCallback((id: string) => {
  // å¤„ç†é€»è¾‘
}, []);

// ä½¿ç”¨ useMemo ç¼“å­˜è®¡ç®—ç»“æœ
const filteredUsers = useMemo(() => {
  return users.filter(u => u.active);
}, [users]);
```

---

## LSP ä½¿ç”¨è§„èŒƒ

### å¿…é¡»ä½¿ç”¨ LSP çš„åœºæ™¯

1. **ä¿®æ”¹ä»£ç å‰** - ä½¿ç”¨ `goToDefinition` æ‰¾åˆ°ç›®æ ‡ä»£ç 
2. **ç†è§£ç»“æ„** - ä½¿ç”¨ `documentSymbol` äº†è§£æ–‡ä»¶ç»“æ„
3. **è¯„ä¼°å½±å“** - ä½¿ç”¨ `findReferences` æŸ¥æ‰¾æ‰€æœ‰å¼•ç”¨
4. **ç±»å‹ç¡®è®¤** - ä½¿ç”¨ `hover` æŸ¥çœ‹ç±»å‹å®šä¹‰

### LSP æ“ä½œç¤ºä¾‹

```typescript
// ä½¿ç”¨ LSP æŸ¥çœ‹å‡½æ•°å®šä¹‰
LSP({
  operation: "goToDefinition",
  filePath: "src-tauri/src/user/service.rs",
  line: 50,
  character: 10
})

// ä½¿ç”¨ LSP æŸ¥æ‰¾æ‰€æœ‰å¼•ç”¨
LSP({
  operation: "findReferences",
  filePath: "src-tauri/src/user/service.rs",
  line: 50,
  character: 10
})
```

---

## å¸¸è§é™·é˜±

### Rust åç«¯

**âœ— é˜»å¡å¼‚æ­¥è¿è¡Œæ—¶**:
```rust
std::thread::sleep(Duration::from_secs(1)); // âœ— é”™è¯¯
tokio::time::sleep(Duration::from_secs(1)).await; // âœ“ æ­£ç¡®
```

**âœ— è¿‡åº¦å…‹éš†**:
```rust
let cloned = data.clone(); // âœ— ä¸å¿…è¦
process(&data); // âœ“ ä½¿ç”¨å¼•ç”¨
```

### React å‰ç«¯

**âœ— åœ¨å¾ªç¯ä¸­ä½¿ç”¨ Hook**:
```typescript
{items.map(item => {
  const [value, setValue] = useState(0); // âœ— é”™è¯¯
  return <div key={item}>{value}</div>;
})}
```

**âœ— ä½¿ç”¨ as any**:
```typescript
const data = response as any; // âœ— é”™è¯¯
const data = response as User; // âœ“ æ­£ç¡®
```

---

## æäº¤è§„èŒƒ

### Conventional Commits

```
feat: æ·»åŠ ç”¨æˆ·ç®¡ç†åŠŸèƒ½
fix: ä¿®å¤ç™»å½•çŠ¶æ€ä¸¢å¤±é—®é¢˜
refactor: é‡æ„ç”¨æˆ·æœåŠ¡æ¨¡å—
perf: ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½
test: æ·»åŠ ç”¨æˆ·æœåŠ¡æµ‹è¯•
docs: æ›´æ–° API æ–‡æ¡£
chore: æ›´æ–°ä¾èµ–ç‰ˆæœ¬
```

### CHANGELOG ç”Ÿæˆ

ä½¿ç”¨ `/changelog-generator` skill è‡ªåŠ¨ç”Ÿæˆï¼š

```markdown
## v1.2.0 (2026-01-24)

### Features
- æ·»åŠ ç”¨æˆ·ç®¡ç†åŠŸèƒ½
- æ”¯æŒæš—è‰²æ¨¡å¼

### Bug Fixes
- ä¿®å¤ç™»å½•çŠ¶æ€ä¸¢å¤±é—®é¢˜
- ä¿®å¤è¡¨å•éªŒè¯é”™è¯¯

### Performance
- ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢æ€§èƒ½
- å‡å°‘ä¸å¿…è¦çš„é‡æ¸²æŸ“
```
